var xssEvasion={escapeHtml:function(t){var s=document.createElement("div");return s.textContent=t,s.innerHTML},strongNotEscaped:function(t){var s="",e=/<strong>|<\/strong>/g,o=t.match(e),n=t.split(e);var a=0;if(null!==o&&0!==o.length)for(s=xssEvasion.escapeHtml(n[0]),a=0;a<o.length;a+=1)s+=o[a]+xssEvasion.escapeHtml(n[a+1]);else s=xssEvasion.escapeHtml(t);return s},parseUrl:function(t){var s=document.createElement("a");s.display="none",s.href=t||window.location.href,s.href=s.href;var e={protocol:s.protocol,hostname:s.hostname,port:s.port,pathname:s.pathname,search:s.search,hash:s.hash};return"https:"!==e.protocol&&"http:"!==e.protocol||0===e.pathname.indexOf("/")||(e.pathname="/"+e.pathname),"https:"===e.protocol&&"443"===e.port&&0!==t.indexOf("https://"+e.hostname+":443")&&(e.port=""),e},sanitizeResponse:function(t){if("string"!=typeof t)return"";var s=/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,e=/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,o=/\bstyle\s*=\s*"[^"]*\bfont-weight\s*:\s*bold\b[^"]*"/,n=t.split(s),a=t.match(s),r="",p="",h=0,l=function(t,s,e,n){var a="",p=xssEvasion.parseUrl(s).protocol;"http:"!==p&&"https:"!==p&&"matlab:"!==p&&(s="#"),s=xssEvasion.escapeHtml(s),n=xssEvasion.strongNotEscaped(n,!0),o.test(e)&&(a=' style="font-weight:bold"'),r='<a href="'+s+'"'+a+">"+n+"</a>"};if(""!==n[0]&&(p=xssEvasion.strongNotEscaped(n[0],!0)),null!==a&&0!==a.length)for(h=0;h<a.length;h+=1)a[h].replace(e,l),""!==n[h+1]&&(n[h+1]=xssEvasion.strongNotEscaped(n[h+1],!0)),p+=r+n[h+1];return p}};